---
name: Https test
author: Didi Hoffmann <didi@green-coding.io>
description: A little scenario that compares http and https

compose-file: !include docker-compose.yml

services:
  nginx:
    setup-commands:
      - cp /tmp/repo/https/html/index.html /usr/share/nginx/html/index.html
      - sh /tmp/repo/https/create_file.sh

flow:
  - name: http
    container: curl_client
    commands:
      - type: console
        shell: sh
        command: for i in `seq 1 10000`; do curl -s -o /dev/null http://nginx; done && echo "GMT_SCI_R=10000"
        note: Accessing without encryption
        read-sci-stdout: True
        log-stdout: True
